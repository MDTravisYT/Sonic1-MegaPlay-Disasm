CALCANGLE:
		MOVEM.L	D3-D4,	-(SP)
		MOVEQ	#0,	D3
		MOVEQ	#0,	D4
		MOVE.W	D1,	D3
		MOVE.W	D2,	D4
		OR.W	D3,	D4
		BEQ.S	LOC_2F9E
		MOVE.W	D2,	D4
		TST.W	D3
		BPL.W	LOC_2F5C
		NEG.W	D3
	
	LOC_2F5C:	
		TST.W	D4
		BPL.W	LOC_2F64
		NEG.W	D4
	
	LOC_2F64:	
		CMP.W	D3,	D4
		BCC.W	LOC_2F76
		LSL.L	#8,	D4
		DIVU.W	D3,	D4
		MOVEQ	#0,	D0
		MOVE.B	ANGLE_DATA(PC,D4.W),	D0
		BRA.S	LOC_2F80
	
	LOC_2F76:	
		LSL.L	#8,	D3
		DIVU.W	D4,	D3
		MOVEQ	#$40,	D0	
		SUB.B	ANGLE_DATA(PC,D3.W),	D0
	
	LOC_2F80:	
		TST.W	D1
		BPL.W	LOC_2F8C
		NEG.W	D0
		ADDI.W	#$80,	D0
	
	LOC_2F8C:	
		TST.W	D2
		BPL.W	LOC_2F98
		NEG.W	D0
		ADDI.W	#$100,	D0
	
	LOC_2F98:	
		MOVEM.L	(SP)+,	D3-D4
		RTS
	
	LOC_2F9E:	
		MOVE.W	#$40,	D0	
		MOVEM.L	(SP)+,	D3-D4
		RTS
		
ANGLE_DATA:	INCBIN	"SRC/SYSTEM/ANGLE.BIN"