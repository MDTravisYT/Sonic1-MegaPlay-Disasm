PROCESSDPLC2:
		TST.W	(V_PLC_PATTERNSLEFT).W
		BEQ.S	LOCRET_18FA
		MOVE.W	#3,	(V_PLC_FRAMEPATTERNSLEFT).W
		MOVEQ	#0,	D0
		MOVE.W	(V_PLC_BUFFER_A4).W,	D0
		ADDI.W	#$60,	(V_PLC_BUFFER_A4).W
		
	LOC_1896:
		LEA	($C00004).L,	A4
		LSL.L	#2,	D0
		LSR.W	#2,	D0
		ORI.W	#$4000,	D0
		SWAP	D0
		MOVE.L	D0,	(A4)
		SUBQ.W	#4,	A4
		MOVEA.L	(V_PLC_BUFFER).W,	A0
		MOVEA.L	(V_PLC_PTRNEMCODE).W,	A3
		MOVE.L	(V_PLC_REPEATCOUNT).W,	D0
		MOVE.L	(V_PLC_PALETTEINDEX).W,	D1
		MOVE.L	(V_PLC_PREVIOUSROW).W,	D2
		MOVE.L	(V_PLC_DATAWORD).W,	D5
		MOVE.L	(V_PLC_SHIFTVALUE).W,	D6
		LEA		(V_NGFX_BUFFER).W,	A1
		
	LOC_18CA:
		MOVEA.W	#8,	A5
		BSR.W	NEMPCD_NEWROW
		SUBQ.W	#1,	(V_PLC_PATTERNSLEFT).W
		BEQ.S	LOC_18FC
		SUBQ.W	#1,	(V_PLC_FRAMEPATTERNSLEFT).W
		BNE.S	LOC_18CA
		MOVE.L	A0,	(V_PLC_BUFFER).W
		MOVE.L	A3,	(V_PLC_PTRNEMCODE).W
		MOVE.L	D0,	(V_PLC_REPEATCOUNT).W
		MOVE.L	D1,	(V_PLC_PALETTEINDEX).W
		MOVE.L	D2,	(V_PLC_PREVIOUSROW).W
		MOVE.L	D5,	(V_PLC_DATAWORD).W
		MOVE.L	D6,	(V_PLC_SHIFTVALUE).W
		
	LOCRET_18FA:
		RTS
		
	LOC_18FC:
		LEA		(V_PLC_BUFFER).W,	A0
		MOVEQ	#$15,	D0
		
	LOC_1902:
		MOVE.L	6(A0),	(A0)+
		DBF		D0,	LOC_1902
		RTS